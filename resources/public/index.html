<link rel="stylesheet" href="vendor/css/bootstrap.css" />
<link rel="stylesheet" href="vendor/css/bootstrap-responsive.css" />
<link rel="stylesheet" href="vendor/css/flat-ui.css" />
<link rel="stylesheet" href="vendor/css/flat-ui.css" />
<script src="vendor/js/underscore.js"></script>
<script src="vendor/js/jquery-1.8.0.js"></script>
<script src="vendor/js/jquery-ui.js"></script>
<script src="vendor/js/angular.js"></script>
<script src="vendor/js/slider/slider.js"></script>

<script>
  angular.module('flowers-client', ['slider'])
    .controller('app', function($scope, $http) {
      $scope.speeds = [{value: 0}, {value: 0}, {value: 0}, {value: 0}, 
                       {value: 0}, {value: 0}, {value: 0}, {value: 0}];
      $scope.postSpeed = function(pin) {
        console.log('speeds', _($scope.speeds).pluck('value').toString());
        $http.put('/' + pin + '/' + $scope.speeds[pin].value)
      }
    }) 
</script>

<style>
  input { width: 100%; }
  .top { margin-top: 100pt; }
  .slider-container {
    margin-top: 1pt;
  }
  .ui-slider-range {
    background-color: #F1C40F;
  }
  .ui-slider-handle {
    background-color: #F39C12;
  }
  .ui-slider-handle:hover, .ui-slider-handle:active, .ui-slider-handle:focus {
    background-color: rgb(253, 204, 8) ! important;
  }
</style>

<div class="container-fluid" ng-app="flowers-client" ng-controller="app">
  <div class="row" ng-repeat="($index, speed) in speeds">
    <div class="span1 offset2">{{$index + 2}}</div>
      <div class="span6 slider-container">
        <slider min=0 max=30 type="range" ng-model="speed.value" ng-change="postSpeed($index)" />
      </div>
      <div class="span1">
        {{speed.value}}
      </div>
    </div>
  </div>
</div>

